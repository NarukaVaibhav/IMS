<div  *ngIf="!showMAIN" class="master-container1 container p-0">
  <div class="card-header" >

    {{stname}}
  </div>


  <div class="col-lg-12 card" >
    <i class="material-icons ml-2"  (click)="goBACK()" matTooltip="Back" style="padding-left: 0px !important; font-size: 24px; cursor: pointer;"  >keyboard_backspace</i>

    <table *ngIf="showsubjective" style="margin-top: 7px;" mat-table  [dataSource]="subEDATA" matSort class="mat-elevation-z8">
      <tr mat-header-row *matHeaderRowDef="subjectiveColumn"></tr>
      <tr mat-row *matRowDef="let row; columns: subjectiveColumn;"></tr>

      <ng-container matColumnDef="question">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Question</th>
        <td mat-cell *matCellDef="let element" id="question"> <div [innerHTML]="element.question"> </div> </td>
      </ng-container>
      <ng-container matColumnDef="answer">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Answer</th>
        <td class="description-cell" mat-cell *matCellDef="let element" id="answer"> {{element.answer}} </td>
      </ng-container>

      <ng-container matColumnDef="marks">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Marks</th>
        <td mat-cell *matCellDef="let element" id="marks"> {{element.marks}} </td>
      </ng-container>

      </table>


    <table *ngIf="showmcq" style="margin-top: 7px;" mat-table  [dataSource]="mcqEDATA" matSort class="mat-elevation-z8">
      <tr mat-header-row *matHeaderRowDef="MCQColumn"></tr>
      <tr mat-row *matRowDef="let row; columns: MCQColumn;"></tr>

      <ng-container matColumnDef="question">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Question</th>
        <td mat-cell *matCellDef="let element" id="question1">  <div [innerHTML]="element.question"> </div>  </td>
      </ng-container>

      <ng-container matColumnDef="answer">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Option1</th>
        <td mat-cell *matCellDef="let element" id="answer1"> {{element.answer}} </td>
      </ng-container>


      <ng-container matColumnDef="correctAnswer">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Correct Answer</th>
        <td mat-cell *matCellDef="let element" id="correctAnswer"> {{element.correctAnswer}} </td>
      </ng-container>

      <ng-container matColumnDef="marks">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Marks</th>
        <td mat-cell *matCellDef="let element" id="marks"> {{element.marks}} </td>
      </ng-container>
    </table>

  </div>
  </div>


<div *ngIf="showMAIN" class="master-container1 container p-0">
  <div class=" card-header">
    <div class="row">
      <div class="col-lg-6 pl-2">
        EXAM-DASHBOARD: {{examName}}
        </div>
        <div class="col-lg-6 text-right">
        HOME/EXAM-DASHBOARD/{{examName}}
        </div>
    </div>
  </div>

  <div class="container-fluid pb-4">
   
    <div class="row bgColor">
      <div class="col-lg-12">

        <mat-tab-group mat-align-tabs="center">
          <mat-tab label="RESULTS">

            
            <div class="col-lg-12 card">
              <div class="row">
                
                  <div class="col-lg-4">
                    <mat-form-field class="search-form-field" floatLabel="never">
                      <input  id="search" matInput [(ngModel)]="searchKey" placeholder="Search" autocomplete="off" (keyup)="applyFilter()">
                      
                    </mat-form-field>
                  </div>
                  <div class="text-right col-lg-8">
                    <button class="btnCSS submitButton" (click)='printDocument()' >PDF ALL</button>
                    </div>
              </div>
           
              
        
              
              <div class="example-container mat-elevation-z8" >
                <table  id= "enquiry-table" class="col-lg-12" mat-table [dataSource] = "dataSource" matSort>
                  
                   <!-- studentName -->
                   <ng-container matColumnDef="studentName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Student Name </th>
                    <td mat-cell *matCellDef="let row"> {{row.studentName}} </td>
                  </ng-container>

                  <!-- fatherName Column -->
                  <ng-container matColumnDef="fatherName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Father Name </th>
                    <td mat-cell *matCellDef="let row"> {{row.fatherName}} </td>
                  </ng-container>

                  <!-- mobile Column -->
                  <ng-container matColumnDef="mobile">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Mobile </th>
                    <td mat-cell *matCellDef="let row"> {{row.mobile  }} </td>
                  </ng-container>

                  <!-- email Column -->
                  <ng-container matColumnDef="email">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Email </th>
                    <td mat-cell *matCellDef="let row" [style.color]="row.color"> {{row.email}} </td>
                  </ng-container>

                  <!-- courseName Column -->
                  <ng-container matColumnDef="courseName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Course Name </th>
                    <td mat-cell *matCellDef="let row" [style.color]="row.color"> {{row.courseName}} </td>
                  </ng-container>

                  <!-- batchName Column -->
                  <ng-container matColumnDef="batchName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Batch </th>
                    <td mat-cell *matCellDef="let row" [style.color]="row.color"> {{row.batchName}} </td>
                  </ng-container>

                  <!-- optainedMarks Column -->
                  <ng-container matColumnDef="optainedMarks">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
                    <td mat-cell *matCellDef="let row" [style.color]="row.color"> {{row.optainedMarks}} </td>
                  </ng-container>

                  <!-- percentage Column -->
                  <ng-container matColumnDef="percentage">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Percentage </th>
                    <td mat-cell *matCellDef="let row" [style.color]="row.color"> {{row.percentage}} </td>
                  </ng-container>

                  <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Action </th>
                    <td mat-cell *matCellDef="let row" [style.color]="row.color">
                      <i class="material-icons ml-2"  (click)="StudentResult(row)" matTooltip="View Result" style="padding-left: 0px !important; font-size: 20px; cursor: pointer;"  >visibility</i>
                    </td>
                  </ng-container>
                      
                  <tr mat-header-row *matHeaderRowDef="displayedColumns ; sticky: true"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns;">

                  </tr>

                </table>
                
              </div>
              <div class="card-footer">
                <mat-paginator
                            [pageSize]="10"
                            [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons>
              </mat-paginator>
              </div>
              </div>
 
          </mat-tab>
          <mat-tab label="EXAM SESSION MANAGEMENT">

       
            <div class="col-lg-12 card">
              <div class="row">
                
                  <div class="col-lg-4">
                    <mat-form-field class="search-form-field" floatLabel="never">
                      <input  id="search" matInput [(ngModel)]="searchKey2" placeholder="Search" autocomplete="off" (keyup)="applyFilter2()">
                     
                    </mat-form-field>
                  </div>
                  <div class="col-md-8 text-right ">
                    <div class="row float-right">
                         
                      <div class="btn-group float-right " role="group" aria-label="Basic example" >
                        <button type="button" class="btnCSS submitButton" (click)="haultExam('hault')" [disabled]="selection.selected.length == 0">    Hault Exam ({{selection.selected.length !=0 ? (selection.selected.length) : ''}})</button>
                        <button type="button" class="btnCSS submitButton" (click)="haultExam('resume')" [disabled]="selection.selected.length == 0"> Resume From Remaining Time ({{selection.selected.length !=0 ? (selection.selected.length) : ''}})</button>
                        <button type="button" class="btnCSS submitButton mr-3" (click)="haultExam('refereshDAta')" [disabled]="selection.selected.length == 0"> Refresh Data</button>
                      </div>
                    </div>
                   </div>
              </div>
           
              
        
              
              <div class="example-container mat-elevation-z8" >
                <table  id= "enquiry-table" class="col-lg-12" mat-table [dataSource]="examRecord" matSort #uploadResultSort="matSort">
                  <ng-container matColumnDef="select" >
                    <th mat-header-cell *matHeaderCellDef style="width: 50px !important;">
                      <mat-checkbox (change)="$event ? masterToggle() : null"
                                    [checked]="selection.hasValue() && isAllSelected()"
                                    [indeterminate]="selection.hasValue() && !isAllSelected()"
                                    [aria-label]="checkboxLabel()">
                      </mat-checkbox>
                    </th>
                    <td mat-cell *matCellDef="let row" >
                      <mat-checkbox (click)="$event.stopPropagation()"
                                    (change)="$event ? selection.toggle(row) : null"
                                    [checked]="selection.isSelected(row)"
                                    [aria-label]="checkboxLabel(row)">
                      </mat-checkbox>
                    </td>
                  </ng-container>

                  <!-- photo -->
                  <ng-container matColumnDef="photo">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Student Photo </th>
                    <td mat-cell *matCellDef="let row"> <img [src]="row.photo" /> </td>
                  </ng-container>

                  <!-- studentName -->
                  <ng-container matColumnDef="studentName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Student Name </th>
                    <td mat-cell *matCellDef="let row"> {{row.studentName}} </td>
                  </ng-container>

                  <!-- fatherName Column -->
                  <ng-container matColumnDef="fatherName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Father Name </th>
                    <td mat-cell *matCellDef="let row"> {{row.fatherName}} </td>
                  </ng-container>

                  <!-- startedAt Column -->
                  <ng-container matColumnDef="startedAt">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Started At </th>
                    <td mat-cell *matCellDef="let row"> {{row.startedAt |date:'shortTime' }} </td>
                  </ng-container>

                  <!-- exceptedEndAt Column -->
                  <ng-container matColumnDef="exceptedEndAt">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Excepted End At </th>
                    <td mat-cell *matCellDef="let row" [style.color]="row.color"> {{row.exceptedEndAt |date :'shortTime'}} </td>
                  </ng-container>

                  <!-- status Column -->
                  <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
                    <td mat-cell *matCellDef="let row" [style.color]="row.color"> {{row.status}} </td>
                  </ng-container>

                  <!-- submissionMessage Column -->
                  <ng-container matColumnDef="submissionMessage">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header id="submissionH">Submission Message</th>
                    <td mat-cell *matCellDef="let row" [style.color]="row.color" id="submission"> {{row.submissionMessage}} </td>
                  </ng-container>


                
                      
                  <tr mat-header-row *matHeaderRowDef="examManagementColumns ; sticky: true"></tr>
                  <tr mat-row *matRowDef="let row; columns: examManagementColumns;">
                  </tr>
                  
                </table>
                
              </div>
              <div class="card-footer">
                <mat-paginator #uploadResultPaginator
                            [pageSize]="10"
                            [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons>
              </mat-paginator>
              </div>
              </div>



          </mat-tab>

        </mat-tab-group>
      </div>

    </div>

  </div>
</div>
